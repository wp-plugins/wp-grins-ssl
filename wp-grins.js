jQuery(document).ready(function(){var a=jQuery;a.wpgrins={grin:function(b){var c;var d="";if(a("#content:input").length>0){c=a("#content:input");d=a("#content:input").attr("value");if(a("#postdivrich")&&typeof tinyMCE!="undefined"&&(!a("#edButtons")||a("#quicktags")[0].style.display=="none")){tinyMCE.execCommand("mceInsertContent",false," "+b+" ");tinyMCE.execCommand("mceRepaint");return}}else if(a("#comment:input").length>0){c=a("#comment:input");d=a("#comment:input").attr("value")}else{return false}if(d==undefined){d=""}if(document.selection){c.focus();sel=document.selection.createRange();sel.text=" "+b+" ";c.focus()}else if(c[0].selectionStart||c[0].selectionStart=="0"){var e=c[0].selectionStart;var f=c[0].selectionEnd;var g=f;c.attr("value",d.substring(0,e)+" "+b+" "+d.substring(f,d.length));g+=b.length+2;c.focus();c[0].selectionStart=g;c[0].selectionEnd=g}else{c.attr("value",d+" "+b+" ");c.focus()}},init:function(){var b={};b.response="ajax-response";b.type="POST";b.data=a.extend(b.data,{action:"grins"});b.global=false;b.url=wpgrinsssl.Ajax_Url;b.timeout=3e4;b.success=function(b){var c='<div id="wp_grins">'+b+"</div>";if(a("#postdiv").length>0){var d="after";var e=a("#postdiv")}else if(a("#postdivrich").length>0){var d="after";var e=a("#postdivrich")}else if(a("#comment").length>0){var d="before";var e=a("#comment")}else{return}switch(d){case"after":e.after(c);a("#wp_grins").css("paddingTop","5px");break;case"before":e.before(c);break}};a.ajax(b)}};a.wpgrins.init()})